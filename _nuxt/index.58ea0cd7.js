import{a as m,o as s,b as o,e as n,t as u,F as v,r as N,f as p,h as _,u as b,w as x,i as E,p as L,j as A}from"./entry.f3b7e95d.js";import{p as c}from"./pocketbase.0539cbe6.js";import{O as U}from"./Options.9057ba81.js";const S={name:"DataDisplay",props:{day_data:{type:String,default:"Null"},heading:{type:String,default:"Null"}},methods:{split_inner(t){return t.split("|")},fmt_data(){const t=this.day_data.split("!!!");for(let e=0;e<t.length;e++)t[e]=t[e].split("|");return t}}},$={class:"data-display"};function k(t,e,a,f,r,l){return s(),o("div",$,[n("h2",null,u(a.heading),1),(s(!0),o(v,null,N(l.fmt_data(),(i,g)=>(s(),o("div",null,[n("p",null,[p(u(i[1])+" "+u(i[2])+" ",1),n("i",null,u(i[5]),1)])]))),256))])}const C=m(S,[["render",k]]),T={name:"Display",props:{currentUser:c.currentUser},data(){return{h_hash:atob(this.currentUser.h_hash),m_hash:atob(this.currentUser.m_hash)}}},D={id:"display"},O={id:"display-container",class:"area",pos:"top"},M=n("div",{id:"seperator"},null,-1);function B(t,e,a,f,r,l){const i=C;return s(),o("div",D,[n("div",O,[_(i,{heading:"TAG 1",day_data:r.h_hash},null,8,["day_data"]),M,_(i,{heading:"TAG 2",day_data:r.m_hash},null,8,["day_data"])])])}const w=m(T,[["render",B]]),H={components:{Options:U},data(){return{currentUser:c.instance.authStore.model}},methods:{loading(t){const e=t;var a="L\xE4dt";e.innerHTML=a+".",setInterval(function(){e.innerHTML.length>a.length+3?e.innerHTML=a+".":e.innerHTML+="."},400)},async signOut(t){this.loading(t.srcElement),c.instance.authStore.clear()},async deleteAccount(t){const e=prompt("Willst du den Account wirklich l\xF6schen? (ja/nein)");this.currentUser&&e=="ja"&&c.instance.collection("users").delete(this.currentUser.id)}},mounted(){c.instance.authStore.onChange(t=>{this.currentUser=c.instance.authStore.model})}};const d=t=>(L("data-v-a866b740"),t=t(),A(),t),I={id:"main-content"},V={key:0,id:"main-settings"},F={key:0},j=d(()=>n("h1",null,"ACCOUNT",-1)),G=d(()=>n("br",null,null,-1)),z={key:1},R=d(()=>n("p",{id:"confirm"},"Bitte email best\xE4tigen und danach neu laden",-1)),W=[R],q={key:1},J=d(()=>n("h1",null,"LMG Vertretungsplan Bot \u{1F916}",-1)),K=d(()=>n("p",null,"Automatische Nachrichten zu deinen aktuellen Vertetungen/Entf\xE4llen (beta)",-1)),P=d(()=>n("button",{id:"signin"},"ANMELDEN",-1)),Q=d(()=>n("button",{id:"signin"},"ACCOUNT ERSTELLEN",-1));function X(t,e,a,f,r,l){const i=w,g=U,y=E;return s(),o("div",I,[r.currentUser?(s(),o("div",V,[r.currentUser.verified?(s(),o("div",F,[j,_(i,{currentUser:r.currentUser},null,8,["currentUser"]),_(g,{currentUser:r.currentUser},null,8,["currentUser"]),n("p",null,[p("Angemeldet!"),G,p("(user-id: "+u(b(c).currentUser.id)+")",1)])])):(s(),o("div",z,W)),n("button",{id:"signout",onClick:e[0]||(e[0]=h=>l.signOut(h))},"ABMELDEN"),n("button",{id:"delete",onClick:e[1]||(e[1]=h=>l.deleteAccount(h))},"ACCOUNT L\xD6SCHEN")])):(s(),o("div",q,[J,K,_(y,{to:"/login"},{default:x(()=>[P]),_:1}),_(y,{to:"/signup"},{default:x(()=>[Q]),_:1})]))])}const et=m(H,[["render",X],["__scopeId","data-v-a866b740"]]);export{et as default};
