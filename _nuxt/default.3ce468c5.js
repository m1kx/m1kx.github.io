import{u as c}from"./pocketbase.452a775a.js";import{i as d,u as _,o as u,j as h,p as l,k as f,a as m,G as b,s as k}from"./entry.f7ace7ca.js";import{_ as y}from"./_plugin-vue_export-helper.a1a6add7.js";const v=""+new URL("refresh.7b12f5b3.svg",import.meta.url).href,S=f("img",{src:v},null,-1),g=[S],$=d({__name:"RefreshButton",setup(t){const e=c();var s=e.authStore.model;e.authStore.onChange(r=>{s=e.authStore.model});function a(){e.collection("users").authRefresh()}return(r,i)=>_(s)?(u(),h("div",{key:0,id:"health",onClick:a},g)):l("",!0)}}),{$sentrySetUser:w}=m(),n=c();var o=n.authStore.model;n.authStore.onChange(t=>{o=n.authStore.model});o&&w({email:o.email,user_id:o.id});const B={data(){return{robot_status:"happy",refreshed:!1}},methods:{async check_status(){try{(await(await fetch("https://bot.mikadev.tech/app/api/health")).json()).Status=="alive"?this.robot_status="happy":this.robot_status="sad"}catch{this.robot_status="sad"}},urlBase64ToUint8Array(t){const e="=".repeat((4-t.length%4)%4),s=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),a=window.atob(s);return Uint8Array.from([...a].map(r=>r.charCodeAt(0)))}},async beforeMount(){this.refreshed=!0},mounted(){this.check_status(),setInterval(()=>{this.check_status()},1e4)}};function C(t,e,s,a,r,i){const p=$;return u(),h("div",null,[b(t.$slots,"default"),k(p)])}const R=y(B,[["render",C]]);export{R as default};
