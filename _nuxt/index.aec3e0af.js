import{a as m,o as s,b as o,e as n,t as l,F as v,r as N,f as p,h as _,u as b,w as x,i as E,p as L,j as A}from"./entry.bfddb0cf.js";import{p as c}from"./pocketbase.0539cbe6.js";import{O as U}from"./Options.06172cbe.js";const S={name:"DataDisplay",props:{day_data:{type:String,default:"Null"},heading:{type:String,default:"Null"}},methods:{split_inner(t){return t.split("|")},fmt_data(){const t=this.day_data.split("!!!");for(let e=0;e<t.length;e++)t[e]=t[e].split("|");return t}}},k={class:"data-display"};function C(t,e,a,f,r,u){return s(),o("div",k,[n("h2",null,l(a.heading),1),(s(!0),o(v,null,N(u.fmt_data(),(i,g)=>(s(),o("div",null,[n("p",null,[p(l(i[1])+" "+l(i[2])+" ",1),n("i",null,l(i[5]),1)])]))),256))])}const T=m(S,[["render",C]]),$={name:"Display",props:{currentUser:c.currentUser},data(){return{h_hash:atob(this.currentUser.h_hash),m_hash:atob(this.currentUser.m_hash)}}},D={id:"display"},O={id:"display-container",class:"area"};function M(t,e,a,f,r,u){const i=T;return s(),o("div",D,[n("div",O,[_(i,{heading:"TAG 1",day_data:r.h_hash},null,8,["day_data"]),_(i,{heading:"TAG 2",day_data:r.m_hash},null,8,["day_data"])])])}const B=m($,[["render",M]]),w={components:{Options:U},data(){return{currentUser:c.instance.authStore.model}},methods:{loading(t){const e=t;var a="L\xE4dt";e.innerHTML=a+".",setInterval(function(){e.innerHTML.length>a.length+3?e.innerHTML=a+".":e.innerHTML+="."},400)},async signOut(t){this.loading(t.srcElement),c.instance.authStore.clear()},async deleteAccount(t){const e=prompt("Willst du den Account wirklich l\xF6schen? (ja/nein)");this.currentUser&&e=="ja"&&c.instance.collection("users").delete(this.currentUser.id)}},mounted(){c.instance.authStore.onChange(t=>{this.currentUser=c.instance.authStore.model})}};const d=t=>(L("data-v-a866b740"),t=t(),A(),t),H={id:"main-content"},I={key:0,id:"main-settings"},V={key:0},F=d(()=>n("h1",null,"ACCOUNT",-1)),j=d(()=>n("br",null,null,-1)),G={key:1},z=d(()=>n("p",{id:"confirm"},"Bitte email best\xE4tigen und danach neu laden",-1)),R=[z],W={key:1},q=d(()=>n("h1",null,"LMG Vertretungsplan Bot \u{1F916}",-1)),J=d(()=>n("p",null,"Automatische Nachrichten zu deinen aktuellen Vertetungen/Entf\xE4llen (beta)",-1)),K=d(()=>n("button",{id:"signin"},"ANMELDEN",-1)),P=d(()=>n("button",{id:"signin"},"ACCOUNT ERSTELLEN",-1));function Q(t,e,a,f,r,u){const i=B,g=U,y=E;return s(),o("div",H,[r.currentUser?(s(),o("div",I,[r.currentUser.verified?(s(),o("div",V,[F,_(i,{currentUser:r.currentUser},null,8,["currentUser"]),_(g,{currentUser:r.currentUser},null,8,["currentUser"]),n("p",null,[p("Angemeldet!"),j,p("(user-id: "+l(b(c).currentUser.id)+")",1)])])):(s(),o("div",G,R)),n("button",{id:"signout",onClick:e[0]||(e[0]=h=>u.signOut(h))},"ABMELDEN"),n("button",{id:"delete",onClick:e[1]||(e[1]=h=>u.deleteAccount(h))},"ACCOUNT L\xD6SCHEN")])):(s(),o("div",W,[q,J,_(y,{to:"/login"},{default:x(()=>[K]),_:1}),_(y,{to:"/signup"},{default:x(()=>[P]),_:1})]))])}const tt=m(w,[["render",Q],["__scopeId","data-v-a866b740"]]);export{tt as default};
