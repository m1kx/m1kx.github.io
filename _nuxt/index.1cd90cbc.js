import{_ as m}from"./_plugin-vue_export-helper.a1a6add7.js";import{o as a,a as o,b as n,t as l,F as v,r as b,e as p,f as _,u as E,w as x,h as N,p as L,i as k}from"./entry.3f62d700.js";import{p as r}from"./pocketbase.0539cbe6.js";import{O as U}from"./Options.9a2c48ac.js";const C={name:"DataDisplay",props:{day_data:{type:Object,default:"Null"},heading:{type:String,default:"err"}},methods:{split_inner(t){return t.split("|")},fmt_data(){const t=this.day_data.hash.split("!!!");for(let e=0;e<t.length;e++)t[e]=t[e].split("|");return t}}},S={class:"data-display"};function A(t,e,d,y,s,u){return a(),o("div",S,[n("h2",null,l(d.heading),1),(a(!0),o(v,null,b(u.fmt_data(),(i,f)=>(a(),o("div",null,[n("p",null,[p(l(i[1])+" "+l(i[2])+" ",1),n("i",null,l(i[5]),1)])]))),256))])}const D=m(C,[["render",A]]),O={name:"Display",props:{currentUser:r.currentUser},data(){return{h_data:{hash:atob(this.currentUser.h_hash)},m_data:{hash:atob(this.currentUser.m_hash)},days:{day_1:"",day_2:""}}},async mounted(){const t=await r.instance.collection("times").getOne("ux8ausqmf2h57dd");this.days.day_1=t.day_1,this.days.day_2=t.day_2}},$={id:"display"},T={id:"display-container",class:"area",pos:"top"},M=n("div",{id:"seperator"},null,-1);function w(t,e,d,y,s,u){const i=D;return a(),o("div",$,[n("div",T,[_(i,{day_data:s.h_data,heading:s.days.day_1},null,8,["day_data","heading"]),M,_(i,{day_data:s.m_data,heading:s.days.day_2},null,8,["day_data","heading"])])])}const B=m(O,[["render",w]]),H={components:{Options:U},data(){return{currentUser:r.instance.authStore.model}},methods:{loading(t){const e=t;var d="L\xE4dt";e.innerHTML=d+".",setInterval(function(){e.innerHTML.length>d.length+3?e.innerHTML=d+".":e.innerHTML+="."},400)},async signOut(t){this.loading(t.srcElement),r.instance.authStore.clear()},async deleteAccount(t){const e=prompt("Willst du den Account wirklich l\xF6schen? (ja/nein)");this.currentUser&&e=="ja"&&r.instance.collection("users").delete(this.currentUser.id)}},mounted(){r.instance.authStore.onChange(t=>{this.currentUser=r.instance.authStore.model})}};const c=t=>(L("data-v-a866b740"),t=t(),k(),t),I={id:"main-content"},V={key:0,id:"main-settings"},F={key:0},j=c(()=>n("h1",null,"ACCOUNT",-1)),q=c(()=>n("br",null,null,-1)),z={key:1},G=c(()=>n("p",{id:"confirm"},"Bitte email best\xE4tigen und danach neu laden",-1)),R=[G],W={key:1},J=c(()=>n("h1",null,"LMG Vertretungsplan Bot \u{1F916}",-1)),K=c(()=>n("p",null,"Automatische Nachrichten zu deinen aktuellen Vertetungen/Entf\xE4llen (beta)",-1)),P=c(()=>n("button",{id:"signin"},"ANMELDEN",-1)),Q=c(()=>n("button",{id:"signin"},"ACCOUNT ERSTELLEN",-1));function X(t,e,d,y,s,u){const i=B,f=U,g=N;return a(),o("div",I,[s.currentUser?(a(),o("div",V,[s.currentUser.verified?(a(),o("div",F,[j,_(i,{currentUser:s.currentUser},null,8,["currentUser"]),_(f,{currentUser:s.currentUser},null,8,["currentUser"]),n("p",null,[p("Angemeldet!"),q,p("(user-id: "+l(E(r).currentUser.id)+")",1)])])):(a(),o("div",z,R)),n("button",{id:"signout",onClick:e[0]||(e[0]=h=>u.signOut(h))},"ABMELDEN"),n("button",{id:"delete",onClick:e[1]||(e[1]=h=>u.deleteAccount(h))},"ACCOUNT L\xD6SCHEN")])):(a(),o("div",W,[J,K,_(g,{to:"/login"},{default:x(()=>[P]),_:1}),_(g,{to:"/signup"},{default:x(()=>[Q]),_:1})]))])}const nt=m(H,[["render",X],["__scopeId","data-v-a866b740"]]);export{nt as default};
