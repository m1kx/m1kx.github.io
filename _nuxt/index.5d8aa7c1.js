import{O as m}from"./Options.04a01300.js";import{a as f,b as i,e as a,f as n,h,t as x,u as E,w as p,i as v,o as r,p as L,j as N}from"./entry.1196cfa3.js";import{p as o}from"./pocketbase.0539cbe6.js";const U={components:{Options:m},data(){return{currentUser:o.instance.authStore.model}},methods:{loading(t){const e=t;var c="L\xE4dt";e.innerHTML=c+".",setInterval(function(){e.innerHTML.length>c.length+3?e.innerHTML=c+".":e.innerHTML+="."},400)},async signOut(t){this.loading(t.srcElement),o.instance.authStore.clear()},async deleteAccount(t){const e=prompt("Willst du den Account wirklich l\xF6schen? (ja/nein)");this.currentUser&&e=="ja"&&o.instance.collection("users").delete(this.currentUser.id)}},mounted(){o.instance.authStore.onChange(t=>{this.currentUser=o.instance.authStore.model})}};const s=t=>(L("data-v-c7528431"),t=t(),N(),t),k={id:"main-content"},S={key:0,id:"main-settings"},b={key:0},y=s(()=>n("h1",null,"Einstellungen",-1)),A=s(()=>n("br",null,null,-1)),C={key:1},T=s(()=>n("p",{id:"confirm"},"Bitte email best\xE4tigen und danach neu laden",-1)),M=[T],O={key:1},B=s(()=>n("h1",null,"LMG Vertretungsplan Bot \u{1F916}",-1)),w=s(()=>n("p",null,"Automatische Nachrichten zu deinen aktuellen Vertetungen/Entf\xE4llen (beta)",-1)),H=s(()=>n("button",{id:"signin"},"ANMELDEN",-1)),I=s(()=>n("button",{id:"signin"},"ACCOUNT ERSTELLEN",-1));function V(t,e,c,D,d,l){const g=m,_=v;return r(),i("div",k,[d.currentUser?(r(),i("div",S,[d.currentUser.verified?(r(),i("div",b,[y,a(g,{currentUser:d.currentUser},null,8,["currentUser"]),n("p",null,[h("Angemeldet!"),A,h("(user-id: "+x(E(o).currentUser.id)+")",1)])])):(r(),i("div",C,M)),n("button",{id:"signout",onClick:e[0]||(e[0]=u=>l.signOut(u))},"ABMELDEN"),n("button",{id:"delete",onClick:e[1]||(e[1]=u=>l.deleteAccount(u))},"ACCOUNT L\xD6SCHEN")])):(r(),i("div",O,[B,w,a(_,{to:"/login"},{default:p(()=>[H]),_:1}),a(_,{to:"/signup"},{default:p(()=>[I]),_:1})]))])}const G=f(U,[["render",V],["__scopeId","data-v-c7528431"]]);export{G as default};
