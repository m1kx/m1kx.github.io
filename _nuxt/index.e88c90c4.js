import{a as m,o as a,b as i,e as n,t as u,F as v,r as N,f as p,h as _,u as b,w as U,i as E,p as L,j as A}from"./entry.58efeee8.js";import{p as o}from"./pocketbase.0539cbe6.js";import{O as x}from"./Options.b4dc99d2.js";const $={name:"DataDisplay",props:{day_data:{type:Object,default:"Null"}},data(){return{heading:"Nichts"}},mounted(){this.day_data.hash!=""?(this.heading=this.day_data.date,this.day_data.date==""&&(this.heading="...")):this.heading="Nichts"},methods:{split_inner(t){return t.split("|")},fmt_data(){const t=this.day_data.hash.split("!!!");for(let e=0;e<t.length;e++)t[e]=t[e].split("|");return t}}},k={class:"data-display"};function C(t,e,c,f,s,l){return a(),i("div",k,[n("h2",null,u(s.heading),1),(a(!0),i(v,null,N(l.fmt_data(),(r,g)=>(a(),i("div",null,[n("p",null,[p(u(r[1])+" "+u(r[2])+" ",1),n("i",null,u(r[5]),1)])]))),256))])}const D=m($,[["render",C]]),S={name:"Display",props:{currentUser:o.currentUser},data(){return{h_data:{hash:atob(this.currentUser.h_hash),date:this.currentUser.h_date.replaceAll("-",".")},m_data:{hash:atob(this.currentUser.m_hash),date:this.currentUser.m_date.replaceAll("-",".")}}}},O={id:"display"},T={id:"display-container",class:"area",pos:"top"},M=n("div",{id:"seperator"},null,-1);function B(t,e,c,f,s,l){const r=D;return a(),i("div",O,[n("div",T,[_(r,{day_data:s.h_data},null,8,["day_data"]),M,_(r,{day_data:s.m_data},null,8,["day_data"])])])}const w=m(S,[["render",B]]),H={components:{Options:x},data(){return{currentUser:o.instance.authStore.model}},methods:{loading(t){const e=t;var c="L\xE4dt";e.innerHTML=c+".",setInterval(function(){e.innerHTML.length>c.length+3?e.innerHTML=c+".":e.innerHTML+="."},400)},async signOut(t){this.loading(t.srcElement),o.instance.authStore.clear()},async deleteAccount(t){const e=prompt("Willst du den Account wirklich l\xF6schen? (ja/nein)");this.currentUser&&e=="ja"&&o.instance.collection("users").delete(this.currentUser.id)}},mounted(){o.instance.authStore.onChange(t=>{this.currentUser=o.instance.authStore.model})}};const d=t=>(L("data-v-a866b740"),t=t(),A(),t),I={id:"main-content"},V={key:0,id:"main-settings"},j={key:0},F=d(()=>n("h1",null,"ACCOUNT",-1)),z=d(()=>n("br",null,null,-1)),G={key:1},R=d(()=>n("p",{id:"confirm"},"Bitte email best\xE4tigen und danach neu laden",-1)),W=[R],q={key:1},J=d(()=>n("h1",null,"LMG Vertretungsplan Bot \u{1F916}",-1)),K=d(()=>n("p",null,"Automatische Nachrichten zu deinen aktuellen Vertetungen/Entf\xE4llen (beta)",-1)),P=d(()=>n("button",{id:"signin"},"ANMELDEN",-1)),Q=d(()=>n("button",{id:"signin"},"ACCOUNT ERSTELLEN",-1));function X(t,e,c,f,s,l){const r=w,g=x,y=E;return a(),i("div",I,[s.currentUser?(a(),i("div",V,[s.currentUser.verified?(a(),i("div",j,[F,_(r,{currentUser:s.currentUser},null,8,["currentUser"]),_(g,{currentUser:s.currentUser},null,8,["currentUser"]),n("p",null,[p("Angemeldet!"),z,p("(user-id: "+u(b(o).currentUser.id)+")",1)])])):(a(),i("div",G,W)),n("button",{id:"signout",onClick:e[0]||(e[0]=h=>l.signOut(h))},"ABMELDEN"),n("button",{id:"delete",onClick:e[1]||(e[1]=h=>l.deleteAccount(h))},"ACCOUNT L\xD6SCHEN")])):(a(),i("div",q,[J,K,_(y,{to:"/login"},{default:U(()=>[P]),_:1}),_(y,{to:"/signup"},{default:U(()=>[Q]),_:1})]))])}const et=m(H,[["render",X],["__scopeId","data-v-a866b740"]]);export{et as default};
