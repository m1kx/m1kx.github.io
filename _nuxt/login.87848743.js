import{E as h,j as p,k as t,v as d,x as u,m as c,s as g,A as f,B as v,o as k}from"./entry.e5858105.js";import{u as x}from"./pocketbase.452a775a.js";import{_ as w}from"./_plugin-vue_export-helper.a1a6add7.js";const l=x();let _=l.authStore.model;l.authStore.onChange(s=>{_=l.authStore.model,h("/")});const y={data(){return{password:"",username:"",loading_auth:!1}},mounted(){_&&h("/")},methods:{loading(s){const e=s,i=s;i.disabled=!0;const o=s.innerHTML;var n="L\xE4dt";e.innerHTML=n+".",this.loading_auth=!0;var r=setInterval(()=>{if(!this.loading_auth){clearInterval(r),s.innerHTML=o,i.disabled=!1;return}e.innerHTML.length>n.length+3?e.innerHTML=n+".":e.innerHTML+="."},400)},validCheck(){const s=document.getElementsByClassName("valid-check");let e=!0;for(let i=0;i<s.length;i++){const o=s[i];o.checkValidity()||(o.style.outline="3px dashed #942525",setTimeout(()=>{o.style.outline=""},4e3),e=!1)}return e},async login(s){if(!this.validCheck()){setTimeout(()=>{alert("Bitte richtige Werte in markierte felder eingeben...")},100);return}this.loading(s.srcElement);try{await l.collection("users").authWithPassword(this.username,this.password),this.loading_auth=!1}catch{alert("EMail oder Passwort falsch"),this.loading_auth=!1}}}};const T=t("div",{id:"header"},[t("h1",null,"ANMELDEN")],-1),E={id:"main"},L={id:"login"},M={id:"login-style",class:"area"},b=t("label",{for:"email"},"Mail",-1),N=t("label",{for:"password"},"Password",-1),B={class:"or"};function C(s,e,i,o,n,r){const m=v;return k(),p("div",null,[t("div",null,[T,t("div",E,[t("div",L,[t("div",M,[b,d(t("input",{class:"valid-check","onUpdate:modelValue":e[0]||(e[0]=a=>n.username=a),type:"email",required:"",id:"email"},null,512),[[u,n.username]]),N,d(t("input",{class:"valid-check","onUpdate:modelValue":e[1]||(e[1]=a=>n.password=a),type:"password",id:"password",required:"",minlength:"1"},null,512),[[u,n.password]]),t("button",{id:"signin",onClick:e[2]||(e[2]=a=>r.login(a))},"EINLOGGEN"),t("div",B,[c("oder "),g(m,{to:"/signup"},{default:f(()=>[c("registrieren")]),_:1})])])])])])])}const I=w(y,[["render",C]]);export{I as default};
